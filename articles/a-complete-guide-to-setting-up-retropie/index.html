<!doctype html>
<html lang="en" itemscope itemtype="https://schema.org/Article">
<head>
  <meta charset="utf-8">
  <title>A complete guide to setting up RetroPie - Leandro Linares</title>
  <meta name="viewport" content="width=device-width">
  <meta name="description" content="Step-by-step tutorial on how to setup your Raspberry Pi to make the most of it as retro games console.">
  <link rel="shortcut icon" href="/assets/retropie--favicon.png">
  <link rel="apple-touch-icon" href="/icon-192.png">
  <link rel="manifest" href="/manifest.json">
  <link rel="alternate" href="/feed.xml" type="application/rss+xml" title="Leandro Linares">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Arbutus+Slab|Roboto&display=swap">
  <link rel="stylesheet" href="/assets/styles.css">

  <script>ga=ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-100475674-1','auto');ga('send','pageview')</script>
  <script defer src="https://www.google-analytics.com/analytics.js"></script>
  
  <meta itemprop="mainEntityOfPage"
    content="https://www.lean8086.com/articles/a-complete-guide-to-setting-up-retropie/">
  <meta itemprop="inLanguage" content="en">
  <meta itemprop="image" content="https://www.lean8086.com/articles/a-complete-guide-to-setting-up-retropie/image.png">
  <meta name="twitter:site" content="@lean8086">
  <meta name="twitter:url" content="https://www.lean8086.com/articles/a-complete-guide-to-setting-up-retropie/">
  <meta name="twitter:title" content="A complete guide to setting up RetroPie">
  <meta name="twitter:description"
    content="Step-by-step tutorial on how to setup your Raspberry Pi to make the most of it as retro games console.">
  <meta name="twitter:creator" content="@lean8086">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image"
    content="https://www.lean8086.com/articles/a-complete-guide-to-setting-up-retropie/image.png">
  <meta property="og:title" content="A complete guide to setting up RetroPie">
  <meta property="og:type" content="article">
  <meta property="og:url" content="https://www.lean8086.com/articles/a-complete-guide-to-setting-up-retropie/">
  <meta property="og:description"
    content="Step-by-step tutorial on how to setup your Raspberry Pi to make the most of it as retro games console.">
  <meta property="og:site_name" content="Leandro Linares">
  <meta property="og:image"
    content="https://www.lean8086.com/articles/a-complete-guide-to-setting-up-retropie/image.png">
</head>

<body>
  <header class="header" role="banner">
    <a class="header__logo pixelated" href="/">lean8086</a>
    <nav class="header__nav" itemscope itemtype="https://schema.org/SiteNavigationElement">
      <ul>
        <li><a href="/#labs">Lab</a></li>
        <li><a href="/#pixelart">Pixels</a></li>
        <li><a href="/#blog">Blog</a></li>
      </ul>
    </nav>
  </header>

  <header class="entry-head">
    <img class="entry-head__image pixelated" src="/assets/retropie-icon.png" itemprop="image" alt="Arcade icon">
    <h1 class="entry-head__headline" itemprop="headline">A complete guide to setting up RetroPie</h1>
    <p class="entry-head__details">by <span itemprop="author">Leandro Linares</span> — <time itemprop="dateCreated" datetime="2017-06-28">June 28, 2017</time></p>
    <p class="entry-head__description" itemprop="description">Step-by-step tutorial on how to setup your Raspberry Pi to make the most of it as retro games console.</p>
  </header>

  <section class="entry-body" itemprop="articleBody">
    <p>I spent the last year <a href="/articles/how-i-built-an-arcade-machine-from-scratch/">building a real-size
        arcade cabinet</a>. I found myself installing and reinstalling RetroPie on Raspberry Pi several times. So,
      everytime I screwed up and reinstalled, I had to reconfigure the entire system by following the exact same steps
      to get where I was. The erasing and reinstalling processes were caused for a notable lack of information about
      many setup choices you have to do. I didn’t found many recommendations.</p>
    <h2 id="what-is-retropie">What is RetroPie</h2>
    <p>If you came here with not knowing what RetroPie is, take a look at this awesome project: <a
        href="https://retropie.org.uk/">https://retropie.org.uk/</a></p>
    <blockquote>
      <p>RetroPie allows you to turn your Raspberry Pi, ODroid C1/C2, or PC into a retro-gaming machine.</p>
    </blockquote>
    <h2 id="about-this-guide">About this guide</h2>
    <p>I started this guide for myself, to follow the steps in the exact order that it was written. Originally this
      guide has only contained my specific use case, but because was difficult to me to find some answers, I want to
      give some back to the RetroPie community by sharing my findings.</p>
    <p>This guide is intended to give some recommendations and solutions for cases that I had to find and try by
      myself. It’s a complement to the original <a href="https://github.com/RetroPie/RetroPie-Setup/wiki">RetroPie
        documentation</a>. Feel free to comment if any information is not accurate, or there is a better way to do the
      same.</p>
    <p>It’s important to read carefully every step, to avoid any trouble during the setup. Not all of the steps are
      mandatory, and you can jump the optional steps, but I recommend to always respect the given order.</p>
    <h2 id="installing-retropie">Installing RetroPie</h2>
    <p>The first thing to do is to install the RetroPie in the Raspberry Pi. It’s gonna be a little different
      depending on the model of your Raspberry Pi.</p>
    <ul>
      <li>
        <p><strong>Step 1.</strong> Identify which model of the Raspberry Pi you have, following <a
            href="https://www.element14.com/community/community/raspberry-pi/blog/2016/11/21/how-to-identify-which-model-of-the-raspberry-pi-you-have">this
            guide</a>. You only need to know if you own a <strong>Raspberry Pi 1, 2, 3 or Zero</strong>.</p>
      </li>
      <li>
        <p><strong>Step 2.</strong> Download the <a href="https://retropie.org.uk/download/">RetroPie SD image</a>
          corresponding to your Raspberry Pi model. I recommend to keep the file of the RetroPie pre-made image (don’t
          delete it after use it), so is easier to start over.</p>
      </li>
      <li>
        <p><strong>Step 3.</strong> Connect the SD card to a computer. It’s not necessary to have an SD card with a
          lot of space, because you need to install only RetroPie in there. I recommend to keep the ROMs and saved
          games progress external as you can see <a href="#setting-usb-storage">below</a>.</p>
      </li>
      <li>
        <p><strong>Step 4.</strong> Burn the RetroPie image into the SD card, using:</p>
        <ul>
          <li><a href="http://sourceforge.net/projects/win32diskimager/">Win32DiskImager</a> on Windows.</li>
          <li><a href="http://www.tweaking4all.com/hardware/raspberry-pi/macosx-apple-pi-baker/">Apple Pi Baker</a> on
            Mac OS X.</li>
          <li><a href="https://etcher.io/">Etcher</a> on Linux.</li>
        </ul>
      </li>
      <li>
        <p><strong>Step 5.</strong> Do not plug the SD into the Raspberry Pi yet. Keep the SD card plugged into your
          computer. You’ll notice the SD card is now called <code>boot</code>.</p>
      </li>
    </ul>
    <h2 id="configure-before-turn-it-on">Configure before turn it on</h2>
    <p>Most of the missing information is about how to setup the hardware to work as you need. So these are the most
      important things I recommend you to check out.</p>
    <h3 id="setting-up-the-usb-storage">Setting up the USB Storage</h3>
    <p>I recommend to keep the game ROMs and the saved games progress in an external source. This way makes easier to
      experiment with RetroPie in the SD card, and keep the important data safe in a plug-n-play source.</p>
    <ul>
      <li><strong>Step 6.</strong> Format a USB drive as <code>FAT</code>. Use any disk utility available on your OS.
      </li>
      <li><strong>Step 7.</strong> Create a folder named <code>retropie-mount</code> on the root of the USB drive.
        This is going to be used by RetroPie every time you boot the system.</li>
    </ul>
    <p>Find more info about this in the official RetroPie documentation: <a
        href="https://github.com/RetroPie/RetroPie-Setup/wiki/Running-ROMs-from-a-USB-drive">Running ROMs from a USB
        drive</a>.</p>
    <h3 id="overclocking-the-raspberry-pi">Overclocking the Raspberry Pi</h3>
    <p>If you have a Raspberry Pi Model 1, I recommend to overclock your board. That way you can run more complex
      games as in a Raspberry Pi Model 2. For example a Raspberry Pi Model 1 doesn’t have the power enough to run most
      of the Neo Geo or MS-DOS games, but an overclocked one actually does.</p>
    <p>There are 2 ways to overclock a Raspberry Pi: the wrong one and the right one. The wrong way lets you expand
      the core and memory boundaries as you want, but it’s dangerous to your board and also <a
        href="https://www.raspberrypi.org/documentation/configuration/config-txt/overclocking.md">voids the
        warranty</a>. The right way is provided by Raspberry Pi itself so take a look at this post: <a
        href="https://www.raspberrypi.org/blog/introducing-turbo-mode-up-to-50-more-performance-for-free/">Introducing
        Turbo Mode: up to 50% more performance for free</a>.</p>
    <p>Let’s do this in the right way:</p>
    <ul>
      <li><strong>Step 8.</strong> Edit file <code>/config.txt</code> and add (or uncomment if it’s already there):
        <pre><code>force_turbo=1</code></pre>
      </li>
    </ul>
    <h3 id="setting-arcade-controller">Setting arcade controller</h3>
    <p>This was the hardest thing to find. The docs are in <a
        href="https://github.com/RetroPie/RetroPie-Setup/wiki/Xin-Mo-Controller">plain sight</a>, but you need to know
      the name of you’re looking for to find it. So, I spent a lot of time looking how to configure THIS kind of
      controller:</p>
    <p><img alt="Xin Mo controller" src="/articles/a-complete-guide-to-setting-up-retropie/xin-mo.jpg" loading="lazy">
    </p>
    <p>The magic words are <strong>Xin Mo</strong>. It’s that simple. Now, to configure RetroPie to recognize this
      kind of controller…</p>
    <ul>
      <li><strong>Step 9.</strong> Edit <code>/cmdline.txt</code> and write at the end of the file:
        <pre><code>usbhid.quirks=0x16c0:0x05e1:0x040</code></pre>
      </li>
    </ul>
    <p>There are a few more steps to configure the controller, but wait till <a href="#now-turn-it-on">turning on the
        system</a>.</p>
    <p>Find more information about the Xin Mo Controller in the <a
        href="https://github.com/retropie/retropie-setup/wiki/Xin-Mo-Controller">official RetroPie documentation</a>.
    </p>
    <h3 id="forcing-hdmi-sound">Forcing HDMI sound</h3>
    <p>If you’re using a computer monitor, it probably doesn’t have built-in speakers. And in most of cases, this kind
      of monitor has a 3.5mm jack to output sound to external speakers. In that case, you may have to make that the
      HDMI takes control over the sound:</p>
    <ul>
      <li><strong>Step 10.</strong> Force the HDMI by adding the following line to <code>/config.txt</code>:
        <pre><code>hdmi_drive=2</code></pre>
      </li>
    </ul>
    <p>Some articles from different guides says you can also increase the sound quality.</p>
    <ul>
      <li><strong>Step 11.</strong> Update the <code>/retroarch.cfg</code> file with:
        <pre><code>audio_out_rate = 44100</code></pre>
      </li>
    </ul>
    <p>Using that configuration, the sound coming from the headphone jack is a lot clearer and has a lot less static.
    </p>
    <h2 id="now-turn-it-on">Now turn it on</h2>
    <p>You’re set. Plug the SD card and the USB drive into the Raspberry Pi and turn on. As is the first time to run
      RetroPie, it’s gonna take a little more time to process everything.</p>
    <p>The first screen to appear is like “Welcome, I found some controller plugged in”:</p>
    <p><img alt="First screen" src="/articles/a-complete-guide-to-setting-up-retropie/welcome-screen.png"></p>
    <h3 id="setting-up-controller">Setting up controller</h3>
    <p>You’ve to configure each button of the controller. I recommend to use the same distribution that the Sega
      Genesis controller:</p>
    <p><img alt="Sega Genesis controller"
        src="/articles/a-complete-guide-to-setting-up-retropie/genesis-controller.png"></p>
    <ul>
      <li>
        <p><strong>Step 12.</strong> My choice of configuration for <a href="#setting-arcade-controller">Xin Mo
            controller</a> is:</p>
        <ul>
          <li>For arrows, only set “up”, “down”, “left” and “right” on “D-PAD”.</li>
          <li>For buttons, use the same distribution that the Sega Genesis controller. You can change this later and
            even <a href="https://github.com/RetroPie/RetroPie-Setup/wiki/retroarch-configuration">configure
              controller for individual systems and individual games</a>.</li>
          <li>For anything else, keep pressing any key some seconds to set “-NOT DEFINED-“.</li>
        </ul>
        <p><strong>From now on, the “A” button is <em>ACCEPT</em> and “B” button is <em>CANCEL</em>.</strong></p>
      </li>
    </ul>
    <p>To configure the controller number two:</p>
    <ul>
      <li><strong>Step 13.</strong> Press “Start” to open the menu, then “Configure input”. This time keep pressing
        any button of the controller two:</li>
    </ul>
    <h2 id="games-games-games-">Games, games, games!</h2>
    <p>That was all related to the initial setup. Now it’s all about games.</p>
    <ul>
      <li><strong>Step 14.</strong> Unplug the USB drive and plug into your computer.</li>
    </ul>
    <p>Now the folder <code>/retropie-mount</code> should have some folders inside:</p>
    <p><img alt="Folders structure after the first run"
        src="/articles/a-complete-guide-to-setting-up-retropie/retropie-mount.png"></p>
    <h3 id="roms">ROMs</h3>
    <p>All the game ROMs must go inside <code>/retropie-mount/roms</code>.</p>
    <ul>
      <li>
        <p><strong>Step 15.</strong> Place ROMs corresponding to its console folder. Avoid zip files, because aren’t
          supported.</p>
      </li>
      <li>
        <p><strong>Step 16.</strong> Plug USB drive to the Raspberry Pi and wait until the USB drive LED stop
          blinking.</p>
      </li>
      <li>
        <p><strong>Step 17.</strong> Reset EmulationStation: Press Start (menu) -> Quit -> Restart EmulationStation.
        </p>
      </li>
    </ul>
    <p>The ROMs are added instantly to EmulationStation. You’re gonna see them in the main menu of RetroPie under the
      console name. Now enjoy! Repeat steps 14-17 to add ROMs as much as the USB drive size allows you.</p>
    <h2 id="specific-setups">Specific setups</h2>
    <p>Following the steps above, you’ll have access to the most common consoles and games. But by following a few
      more steps you can go beyond.</p>
    <h3 id="sega-megadrive-genesis">Sega Megadrive/Genesis</h3>
    <p>By default, the Sega emulator is configured to recognize only 3 buttons (Megadrive joystick). In my case, I had
      installed 6 buttons in my arcade cabinet, so I had to activate all of them (like a Genesis joystick).</p>
    <p>To do so:</p>
    <ol>
      <li>Launch a Megadrive/Genesis game and go to the RetroArch menu (“Select” + “X”).</li>
      <li>Go to “Quick Menu” -> “Options” and set the two input devices to 6 button pad.</li>
      <li>Exit the RetroArch menu.</li>
    </ol>
    <h3 id="neo-geo">Neo Geo</h3>
    <p>This emulator works a little different from other ones. Before copying ROMs, you need to:</p>
    <ol>
      <li>Get the Neo Geo BIOS. You’ll need a <code>neogeo.zip</code> file.</li>
      <li>Copy the zip file (compressed) to <code>/retropie-mount/BIOS</code> and
        <code>/retropie-mount/roms/neogeo</code>.</li>
      <li>Move ROMs as zip (compressed) to <code>/retropie-mount/roms/neogeo</code>.</li>
      <li>Restart EmulationStation.</li>
    </ol>
    <p>Most of the games won’t work. But there is hope. When a game doesn’t work you can change the emulator for that
      specific game:</p>
    <ol>
      <li>Open a game and press any key before it loads.</li>
      <li>Go to “Select emulator for rom” -> “lr-fba” (or any other emulator) -> “Exit without launching”.</li>
      <li>Relaunch game manually.</li>
      <li>If game still doesn’t work, move on to another game.</li>
    </ol>
    <p>For more info visit this complete video tutorial: <a href="https://www.youtube.com/watch?v=5Qn11F2ekFY">How to
        Set Up And Use NEOGEO Emulator Retropie Raspberry pi 1 2 3 and Zero</a>.</p>
    <h3 id="ms-dos">MS-DOS</h3>
    <p>Beyond this point, you’ll need to plug a keyboard.</p>
    <ol>
      <li>Connect the Raspberry Pi to the Internet.</li>
      <li>Check the board is online by looking into “Show IP” menu.</li>
      <li>Go to the RetroPie settings: “RetroPie” -> “Retropie setup”. The first time to get in there, can take
        several minutes.</li>
      <li>Install DosBox: “Manage packages” -> “manage optional packages” -> “dosbox” -> “install from binary”. It’s
        gonna take some time, because it needs to download packages from Internet.</li>
      <li>When it ends, go back to the main menu, then restart the system: “Perform reboot”.</li>
    </ol>
    <p>Now MS-DOS is a console in the list of consoles. Also a new folder <code>/retropie-mount/roms/pc</code> will be
      created automatically on the USB drive.</p>
    <p>For more info visit this complete video tutorial: <a href="https://www.youtube.com/watch?v=-dcubuDfdxY">Simple
        DOSBox Setup RetroPie MS-DOS Raspberry Pi</a>.</p>
    <h3 id="mame">MAME</h3>
    <p>I had the worst experience trying to understand this platform. I recommend to play arcade games on Neo Geo or
      find a version of the games for a more common console. In case you choose to use arcade games anyway, follow
      these steps.</p>
    <p>There are different versions of MAME, that was launched in different years. So, for example, if you have the
      emulator for MAME <code>0.37b5</code>, you must get games with the specific version <code>0.37b5</code>. For
      some versions, the games are far more difficult to get than others. But there is another factor that forces to
      choose one version among other: the Raspberry Pi model.</p>
    <ul>
      <li>For Raspberry Pi Zero and 1, ROMs has to be version <code>0.37b5</code> (mame2000).</li>
      <li>For Raspberry Pi 2 and 3, ROMs has to be version <code>0.78</code> (mame2003).</li>
    </ul>
    <p>Then to copy ROMs:</p>
    <ul>
      <li>Copy zip ROMs to the folder <code>/ROMs/arcade</code>.</li>
      <li>Do not use folders specific for emulators, like <code>/mame-xxxx</code>.</li>
      <li>Upload compressed (.zip) ROMs. Folders won’t work.</li>
    </ul>
    <p>The first time a game is running, it will ask for an emulator to run:</p>
    <ul>
      <li>For Raspberry Pi Zero and Pi 1, choose <code>mame4all</code> (mame2000).</li>
      <li>For Raspberry Pi 2 and Pi 3, choose <code>lr-mame2003</code> (mame2003).</li>
    </ul>
    <h2>And...</h2>
    <p>That’s all far I could go. I’ll update this guide as I find more and better solutions. Now I’m working on make
      that MS-DOS games run with the <a href="#setting-arcade-controller">Xin Mo controller</a> 👌.</p>
  </section>

  <footer class="footer" role="contentinfo">Leandro Linares</footer>
</body>
</html>