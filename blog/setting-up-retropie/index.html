<!doctype html>
<html lang="en" itemscope itemtype="https://schema.org/Article">
<head>
  <meta charset="utf-8">
  <title>A complete guide to setting up RetroPie - Leandro Linares</title>
  <meta name="viewport" content="width=device-width">
  <meta name="theme-color" content="#fff">
  <meta name="description" content="Step-by-step tutorial on how to setup your Raspberry Pi to make the most of it as retro games console.">

  <link rel="icon" href="/favicon.gif">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  <link rel="manifest" href="/manifest.json">
  <link rel="alternate" href="/feed.xml" type="application/rss+xml" title="Leandro Linares">
  <link rel="preconnect" href="https://fonts.gstatic.com/">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500&family=Roboto:wght@400;500&display=swap">
  <link rel="stylesheet" href="/styles.css">
  <link rel="stylesheet" href="/assets/lite-yt-embed.css">
  <link rel="canonical" href="https://leandrolinares.com/blog/setting-up-retropie/">

  <meta itemprop="mainEntityOfPage" content="https://leandrolinares.com/blog/setting-up-retropie/">
  <meta itemprop="inLanguage" content="en">
  <meta itemprop="image" content="https://leandrolinares.com/blog/setting-up-retropie/xin-mo.jpg">
  <meta name="twitter:site" content="@lean8086">
  <meta name="twitter:url" content="https://leandrolinares.com/blog/setting-up-retropie/">
  <meta name="twitter:title" content="A complete guide to setting up RetroPie">
  <meta name="twitter:description" content="Step-by-step tutorial on how to setup your Raspberry Pi to make the most of it as retro games console.">
  <meta name="twitter:creator" content="@lean8086">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="https://leandrolinares.com/blog/setting-up-retropie/xin-mo.jpg">
  <meta property="og:title" content="A complete guide to setting up RetroPie">
  <meta property="og:type" content="article">
  <meta property="og:url" content="https://leandrolinares.com/blog/setting-up-retropie/">
  <meta property="og:description" content="Step-by-step tutorial on how to setup your Raspberry Pi to make the most of it as retro games console.">
  <meta property="og:site_name" content="Leandro Linares">
  <meta property="og:image" content="https://leandrolinares.com/blog/setting-up-retropie/xin-mo.jpg">
</head>

<body>
  <header class="header" role="banner">
    <a class="header__logo pixelated" href="/">Leandro's Web Site</a>
  </header>

  <header class="entry-head">
    <img class="entry-head__image pixelated" src="/blog/setting-up-retropie/retropie-icon.gif" itemprop="image" alt="Arcade icon" width="48" height="64">
    <h1 class="entry-head__headline" itemprop="headline">A complete guide to setting up RetroPie</h1>
    <p class="entry-head__details">Updated <time itemprop="dateModified" datetime="2024-08-15">August 15, 2024</time> by <a href="/" itemprop="author">Leandro Linares</a></p>
    <meta itemprop="description" content="Step-by-step tutorial on how to setup your Raspberry Pi to make the most of it as retro games console.">
  </header>

  <section class="entry-body" itemprop="articleBody">
    <p>I spent one year <a href="/blog/arcade-machine-build">building an arcade machine</a> and another year <a href="/blog/diy-handheld-game-console/">crafting my own handheld game console</a>. I found myself installing and reinstalling <a href="https://retropie.org.uk/" target="_blank" rel="noopener">RetroPie</a> on my Raspberry Pi a million times to get it right for the type of work I wanted to do. I had to make a bunch of decisions along the way. The problem for me was in how scattered the information was.</p>
      
    <p>Every time I needed to reinstall it, I was forced to reconfigure the system all over by following the exact same steps. So, I compiled all of them here with links to the official docs.</p>

    <h2 id="contents">Contents</h2>

    <ol>
      <li><a href="#installing-retropie">Installing RetroPie</a></li>
      <li><a href="#transferring-games">Transferring Games</a>
        <ol type="i">
          <li><a href="#transfer-roms-via-scp">Remotely via SCP</a></li>
          <li><a href="#transfer-roms-via-usb">Using a USB drive</a></li>
        </ol>
      </li>
      <li><a href="#fine-tuning-emulators">Fine-tuning emulators</a>
        <ol type="i">
          <li><a href="#sega-megadrive-genesis">Sega Megadrive/Genesis</a></li>
          <li><a href="#neo-geo">Neo Geo</a></li>
          <li><a href="#ms-dos">MS-DOS</a></li>
          <li><a href="#mame">MAME</a></li>
        </ol>
      </li>
      <li><a href="#overclocking">Overclocking the Raspberry Pi</a></li>
      <li><a href="#hdmi-audio">Getting audio from HDMI</a></li>
      <li><a href="#arcade-controller">Setting up an arcade controller</a></li>
    </ol>

    <h2 id="installing-retropie">01. Installing RetroPie</h2>

    <p>Burning the RetroPie image into the SD card.</p>

    <ol>
      <li>Identify which model of Raspberry Pi you have. <img src="/blog/diy-handheld-game-console/raspberry-pi-4-model-b-closeup.jpg" alt=""/></li>
      <li>Connect a <a href="https://elinux.org/RPi_SD_cards" target="_blank" rel="noopener">compatible SD card</a> to your computer. <img src="/blog/diy-handheld-game-console/inserting-sd-card.jpg" alt=""/></li>
      <li>Download and install the official <a href="https://www.raspberrypi.org/software/" target="_blank" rel="noopener">Raspberry Pi Imager</a>. <img class="image--border" src="/blog/diy-handheld-game-console/rasbperry-pi-imager-ui.png" alt=""/></li>
      <li>On the Raspberry Pi Imager, <strong>click <span class="faux-code">Choose device</span> and select your Raspberry Pi model</strong>. <img class="image--border" src="/blog/diy-handheld-game-console/rasbperry-pi-imager-model.png" alt=""/></li>
      <li>Click <span class="faux-code">Choose OS</span>. <strong>Select <em>"Emulation and game OS"</em>, then <em>"RetroPie"</em>.</strong> <img class="image--border" src="/blog/diy-handheld-game-console/rasbperry-pi-imager-os.png" alt=""/></li>
      <li>Choose the version of RetroPie that corresponds to your specific board. <img class="image--border" src="/blog/diy-handheld-game-console/rasbperry-pi-imager-retropie.png" alt=""/></li>
      <li>Click <span class="faux-code">Choose storage</span> and select your SD card on the list to install RetroPie into it. <img class="image--border" src="/blog/diy-handheld-game-console/rasbperry-pi-imager-sd.png" alt=""/></li>
      <li>Click <span class="faux-code">Next</span> and install RetroPie on the SD card.</li>
    </ol>

    <h2 id="transferring-games">02. Transferring Games</h2>

    <p>There are two main options I use when it comes to transferring ROMs into RetroPie:</p>
    
    <ul>
      <li><strong>Remotely via SCP:</strong> You have to make sure the SD card you use is big enough to accomodate the Operating System plus all the games.</li>
      <li><strong>Using a USB drive:</strong> this is mostly ideal when you use a small SD card or if you want to avoid enabling SSH on the Raspberry Pi. It requires you to copy the games into a drive, then to copy them into the SD card using RetroPie.</li>
    </ul>

    <p>Let's dive deeper into both:</p>

    <h3 id="transfer-roms-via-scp">Remotely via SCP</h3>

    <p>Sending files through SCP gives you visibility of the progress and an estimated time until copied.</p>

    <ol>
      <li><strong>Connect to Wi-Fi</strong> following the <a href="https://retropie.org.uk/docs/Wifi/" target="_blank" rel="noopener">official docs</a>:<br>Go to <span class="faux-code">RetroPie</span> <span aria-hidden="true" aria-label="then">→</span> <span class="faux-code">WIFI</span> <span aria-hidden="true" aria-label="then">→</span> <span class="faux-code">Connect to WiFi network</span></li>
      <li>
        <p><strong><a href="https://retropie.org.uk/docs/SSH/" target="_blank" rel="noopener">Enable SSH</a> to connect remotely</strong> to the Raspberry Pi. Consider <a href="https://howchoo.com/pi/configure-static-ip-address-raspberry-pi" target="_blank" rel="noopener">assigning a static IP</a> to simplify your workflow.</li>
      <li><strong>Transfer ROMs using SCP.</strong> All the game ROMs must go inside their respective console folder. For example, the game file <span class="faux-code">example.gba</span> for Gameboy Advance must go on <span class="faux-code">~/RetroPie/roms/gba</span>: <pre><code>$ scp example.gba pi@192.168.x.x:/home/pi/RetroPie/roms/gba</code></pre> You can send multiple ROMs just by listing them: <pre><code>$ scp example1.gba example2.gba example3.gba pi@192.168.x.x:/home/pi/RetroPie/roms/gba</code></pre> Or use wildcards to match a pattern like their file extension: <pre><code>$ scp *.gba pi@192.168.x.x:/home/pi/RetroPie/roms/gba</code></pre></li>
      <li><strong>Restart EmulationStation:</strong><br>Press <span class="faux-code">START</span> <span aria-hidden="true" aria-label="then">→</span> <span class="faux-code">QUIT</span> <span aria-hidden="true" aria-label="then">→</span> <span class="faux-code">RESTART EMULATIONSTATION</span></li>
      <li><strong>The ROMs are now on EmulationStation.</strong> You're going to see them in the main screen of RetroPie under the corresponding console name.</li>
    </ol>

    <h3 id="transfer-roms-via-usb">Using a USB drive</h3>

    <p>Keeping a copy of the games in an external source makes it <strong>easier to experiment with RetroPie in the SD card</strong>. It keeps the critical data safe in a plug-n-play source to be copied again and again.</p>

    <ol>
      <li><strong>Format a USB drive</strong> as <span class="faux-code">FAT32</span> or <span class="faux-code">exFAT</span>. Use any disk utility available on your OS for it.</li>
      <li><strong>Create a folder named <span class="faux-code">retropie-mount</span> on the root of the USB drive.</strong> It will be used by RetroPie every time you boot the system.</li>
      <li><strong>Plug the USB drive into the Rasbperry Pi, boot RetroPie and let 1 minute pass.</strong> RetroPie will copy some files and folders into the drive.</li>
      <li><strong>Unplug the USB drive and insert it into your computer.</strong> Now the folder <span class="faux-code">/retropie-mount</span> will have some subfolders inside: <img src="/blog/setting-up-retropie/retropie-mount.png" alt="Folders structure after the first run"/></li>
      <li><strong>Place the ROMs into their respective folder.</strong> For example, the game file <span class="faux-code">example.gba</span> for Gameboy Advance must go on <span class="faux-code">~/RetroPie/roms/gba</span>. Avoid zip files because they are not supported.</li>
      <li><strong>Plug the USB drive into the Raspberry Pi and wait until the drive's LED stops blinking.</strong> For reference, transferring many GBs of games may take several hours.</li>
      <li><strong>Restart EmulationStation:</strong><br>Press <span class="faux-code">START</span> <span aria-hidden="true" aria-label="then">→</span> <span class="faux-code">QUIT</span> <span aria-hidden="true" aria-label="then">→</span> <span class="faux-code">RESTART EMULATIONSTATION</span></li>
      <li><strong>The ROMs are now on EmulationStation.</strong> You're going to see them in the main screen of RetroPie under the corresponding console name.</li>
    </ol>

    <h2 id="fine-tuning-emulators">03. Fine-tuning emulators</h2>
    <p>Following the steps above, you'll have access to the most common consoles and games. But there are some consideration you need to have for specific emulators.</p>

    <h3 id="sega-megadrive-genesis">Sega Megadrive/Genesis</h3>
    <p><strong>The Sega emulator only recognizes 3 buttons by default.</strong> The Megadrive gamepad has only the ABC buttons in it, so that makes sense. In my case, I've installed 6 buttons in my arcade cabinet. So in order to use the 6 buttons layout I told the emulator to use the Genesis gamepad layout (ABC-XYZ):</p>
    
    <ol>
      <li>Launch a Megadrive/Genesis game and go to the RetroArch menu by pressing <span class="faux-code">Select</span> and then <span class="faux-code">X</span>.</li>
      <li>Go to <span class="faux-code">Quick Menu</span> then <span class="faux-code">Options</span> and set the 2 input devices to the 6 buttons gamepad.</li>
      <li>Exit the RetroArch menu.</li>
    </ol>

    <h3 id="neo-geo">Neo Geo</h3>
    <p>This emulator works a little bit differently from the other ones. Before copying ROMs, you need to:</p>
    <ol>
      <li>Get the Neo Geo BIOS: There is plenty of sites where you can find the <span class="faux-code">neogeo.zip</span> file you need.</li>
      <li>Copy the zip file (compressed) to both <span class="faux-code">/retropie-mount/BIOS</span> and <span class="faux-code">/retropie-mount/roms/neogeo</span>.</li>
      <li>Copy Neo Geo ROMs as zip files (compressed) to <span class="faux-code">/retropie-mount/roms/neogeo</span>.</li>
      <li>Restart EmulationStation.</li>
    </ol>
    <p><strong>Most of the games won't work the first time, but you can use another emulator for those specific games:</strong></p>
    <ol>
      <li>Open a game and press any key before it loads.</li>
      <li>Go to <span class="faux-code">Select emulator for ROM</span> then <span class="faux-code">lr-fba</span> (or any other emulator) and <span class="faux-code">Exit without launching</span>.</li>
      <li>Relaunch the game manually.</li>
      <li>If the game still doesn't work, try with another ROM of the game.</li>
    </ol>
    <p>Visit this complete video tutorial for more info:</p>

    <lite-youtube videoid="5Qn11F2ekFY"></lite-youtube>

    <h3 id="ms-dos">MS-DOS</h3>
    <p>You need to use a keyboard for setting up and playing MS-DOS games.</p>
    <ol>
      <li>Connect the <a href="https://retropie.org.uk/docs/Wifi/" target="_blank" rel="noopener">Raspberry Pi to the Internet</a>.</li>
      <li>Go to the RetroPie settings on <span class="faux-code">RetroPie</span>, then <span class="faux-code">Retropie setup</span>. The first time getting there can take several minutes.</li>
      <li>Install DosBox on <span class="faux-code">Manage packages</span>, then <span class="faux-code">manage optional packages</span>, <span class="faux-code">dosbox</span>, and <span class="faux-code">install from binary</span>. It will take some time because it needs to download packages from the Internet.</li>
      <li>When it ends, go back to the main menu, then restart the system using the option <span class="faux-code">Perform reboot</span>.</li>
    </ol>
    <p>Now MS-DOS is a console in the list of consoles. A new folder <span class="faux-code">/retropie-mount/roms/pc</span> will also be created automatically in the external drive.</p>
    <p>Visit this complete video tutorial for more info:</p>

    <lite-youtube videoid="-dcubuDfdxY"></lite-youtube>

    <h3 id="mame">MAME</h3>
    <p>I've had the worst experience when trying to understand this platform. <strong>I recommend you to play arcade games on Neo Geo or to find a version of the games for a more mainstream console.</strong> In case you choose to use MAME, this is what worked for me.</p>

    <p>There are different versions of MAME that were launched in different years. So, for example, if you have the emulator for MAME <span class="faux-code">0.37b5</span>, you must get games with the specific version <span class="faux-code">0.37b5</span>. For some versions, the games are far more challenging to get than others. Another factor that determines which version you need is the Raspberry Pi model.</p>
    <ul>
      <li>For Raspberry Pi Zero and 1, ROMs have to be version <span class="faux-code">0.37b5</span> (mame2000).</li>
      <li>For Raspberry Pi 2, 3, 4, and 400, ROMs have to be version <span class="faux-code">0.78</span> (mame2003).</li>
    </ul>
    <p>Then to copy the ROMs:</p>
    <ul>
      <li>Copy zipped ROMs to the folder <span class="faux-code">/retropie-mount/roms/arcade</span>.</li>
      <li>Do NOT use sub-folders for specific arcade emulators, like for example <span class="faux-code">/mame-xxxx</span>.</li>
      <li>Upload compressed <span class="faux-code">.zip</span> ROMs. Folders won't work.</li>
    </ul>
    <p>The first time a game runs, it will ask you for an emulator to run with:</p>
    <ul>
      <li>For Raspberry Pi Zero and Pi 1, choose <span class="faux-code">mame4all</span> (mame2000).</li>
      <li>For Raspberry Pi 2, 3, 4 and 400, choose <span class="faux-code">lr-mame2003</span> (mame2003).</li>
    </ul>
    

    <h2 id="overclocking">04. Overclocking the Raspberry Pi</h2>

    <p>If you have an old model of Raspberry Pi or a Raspberry Pi Zero, <strong>it's recommendable to overclock your board</strong>. That way, you can run games that require more power. For example, a Raspberry Pi Model 1 and Zero can't run most of the Neo Geo or MS-DOS games, but an overclocked Pi can do it.</p>

    <p><strong>There are two ways to overclock a Raspberry Pi: the wrong one and the right one.</strong>

    <p>The wrong way lets you expand the core and memory as you wish, but it's dangerous to your board and <a href="https://www.raspberrypi.com/documentation/computers/configuration.html#overclock" target="_blank" rel="noopener">voids the warranty</a>.</p>

    <p>Raspberry Pi provides an official way to do it right: <a href="https://www.raspberrypi.com/news/introducing-turbo-mode-up-to-50-more-performance-for-free/" target="_blank" rel="noopener">Introducing Turbo Mode: up to 50% more performance for free</a>.</p>

    <p>I recommend you to do it in the right way:</p>
    <ol>
      <li>Edit the file <span class="faux-code">/config.txt</span>: <pre><code>$ sudo nano /config.txt</code></pre></li>
      <li>Add (or uncomment if it's already there): <pre><code>force_turbo=1</code></pre></li>
      <li><strong>Save the changes and exit Nano.</strong> You can do both by pressing <span class="faux-code">ctrl + X</span>.</li>
    </ol>


    <h2 id="hdmi-audio">05. Getting audio from HDMI</h2>

    <p>I used an old computer monitor that doesn't have built-in speakers. In some cases, this kind of monitor has a 3.5mm (aux) jack to output sound to external speakers. In that case, you need to make the HDMI take control over the sound:</p>

    <ol>
      <li>Edit the file <span class="faux-code">/config.txt</span>: <pre><code>$ sudo nano /config.txt</code></pre></li>
      <li>Force the sound to go through HDMI by adding the following line: <pre><code>hdmi_drive=2</code></pre></li>
      <li><strong>Save the changes and exit Nano.</strong> You can do both by pressing <span class="faux-code">ctrl + X</span>.</li>
    </ol>

    <p>You can increase the sound quality by updating the <span class="faux-code">/retroarch.cfg</span> file:</p>
    
    <ol>
      <li>Edit the file <span class="faux-code">/retroarch.cfg</span>: <pre><code>$ sudo nano /retroarch.cfg</code></pre></li>
      <li>Add (or uncomment if it's already there): <pre><code>audio_out_rate = 44100</code></pre></li>
      <li><strong>Save the changes and exit Nano.</strong> You can do both by pressing <span class="faux-code">ctrl + X</span>.</li>
    </ol>

    <p><strong>The headphone jack's sound is a lot clearer with a lot less static</strong> using that configuration.</p>


    <h2 id="arcade-controller">06. Setting up an arcade controller</h2>

    <p>It took me a while to understand how to set up an arcade controller. Even though <a href="https://retropie.org.uk/docs/Xin-Mo-Controller/" target="_blank" rel="noopener">the documentation is right there</a>, I didn't know <strong>the arcade controllers are called Xin-Mo</strong>.</p>

    <img src="/blog/arcade-machine-build/finished.jpg" alt="A Xin-Mo controller on my arcade machine" />

    <ol>
      <li>Edit the file <span class="faux-code">/cmdline.txt</span>: <pre><code>$ sudo nano /cmdline.txt</code></pre></li>
      <li>Add (or uncomment if it's already there): <pre><code>usbhid.quirks=0x16c0:0x05e1:0x040</code></pre></li>
      <li><strong>Save the changes and exit Nano.</strong> You can do both by pressing <span class="faux-code">ctrl + X</span>.</li>
    </ol>

    <p>Turn on the Rasbperry Pi and boot RetroPie. Then set up all the buttons of your controller.</p>
    
    <img src="/blog/setting-up-retropie/welcome-screen.png" alt="A screenshot of the screen with instructions to setup the controllers" />
    
    <p>For an arcade machine (Xin-Mo controller), I recommend using the <strong>same distribution as the Sega Genesis controller</strong>. For any control that you don't need to set up, keep pressing any key to choose <span class="faux-code">-NOT DEFINED-</span>.</li>
    </ol>

    <img src="/blog/setting-up-retropie/genesis-controller.png" alt="Sega Genesis controller" />

    <p>You can change this later and also <a href="https://retropie.org.uk/docs/RetroArch-Configuration/">set up different controller distributions for individual consoles and games</a>.</li>

    <p><strong>The A button becomes the Enter key, and the B button becomes Escape.</strong></p>
  </section>

  <footer class="footer" role="contentinfo"><a href="/">Leandro Linares</a></footer>
  <script defer src="/assets/lite-yt-embed.js"></script>
</body>
</html>
