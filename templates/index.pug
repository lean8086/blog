extends layout

block append vars
  - bodyclass = 'home'
  - schematype = 'http://schema.org/Person'

block header
  section.hero.heading.content-wrap
    img.hero__avatar(src=contents.assets['avatar@2x.png'].url, alt='Me', itemtype='image')
    div.hero__container
      h1.hero__hi(itemtype='name')= locals.owner
      p.hero__description(itemtype='description')= locals.description
      include mixins/social
      +social()

block content
  include mixins/card
  section#labs.home-section.content-wrap
    - const labs = env.helpers.getLabs(contents);
    h2.home-section__heading Labs
    p Collection of quick experiments.
    div.home-section__cards
      each lab in labs
        +card(lab)
  
  section#pixelart.home-section.content-wrap
    - const draws = env.helpers.getDraws(contents);
    h2.home-section__heading Pixel art
    p From time to time I like to put some pixels together.
    div.home-section__cards
      each draw in draws
        +card(draw)
  
  section#blog.home-section.content-wrap
    - const articles = env.helpers.getArticles(contents).filter(article => !article.metadata.draft);
    h2.home-section__heading Blog
    each article in articles
      article(itemscope, itemtype='http://schema.org/Article')
        h3.blog__title(itemprop='headline')
          a(href=article.url, itemprop='url')= article.title
        p(itemprop='description')= article.metadata.description
